{% extends "layout.html" %}

{% block content %}

<div class="history-container container mt-5">
    <h1 class="page-title">Prediction History for {{ username }}</h1>

    <!-- Filter and Search Section -->
    <div class="filter-section">
        <div class="row g-3">
            <!-- Multi-letter Search (Only uppercase continuous letters like AB) -->
            <div class="col-md-3">
                <input type="text" id="search-letters" class="form-control" placeholder="Search letters (e.g., AB)" autocomplete="off">
                <small class="text-danger d-none" id="search-error">Only uppercase letters allowed without spaces or commas.</small>
            </div>

            <!-- Sort by Date -->
            <div class="col-md-3">
                <select id="sort-by" class="form-select">
                    <option value="recent" selected>Sort by Most Recent</option>
                    <option value="oldest">Sort by Oldest</option>
                </select>
            </div>

            <!-- Date Range Picker (Merged Start and End Dates) -->
            <div class="col-md-3">
                <input type="text" id="date-range" class="form-control" placeholder="Select date range" readonly>
            </div>

            <!-- Show Favorites -->
            <div class="col-md-3">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="show-favorites">
                    <label class="form-check-label" for="show-favorites">Show Favorites Only</label>
                </div>
            </div>
        </div>
    </div>

    <!-- Container for Entries -->
    <div id="entries-container" class="card-grid">
        
    </div>

    <!-- Loading Spinner -->
    <div id="loading" class="text-center my-4" style="display: none;">
        <i class="fa fa-spinner fa-spin fa-2x"></i> Loading more entries...
    </div>

</div>

<!-- Include Flatpickr CSS and JS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<!-- Include External JavaScript -->
<script src="{{ url_for('static', filename='js/history.js') }}"></script>

{% endblock %}
